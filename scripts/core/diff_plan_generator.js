// ============================================================
// diff_plan_generator.js
// ============================================================
// ç›®çš„:
// ChatGPT â†’ Cursor é€£æºç”¨ã® diff_plan.md ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’
// è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚
// ============================================================

import fs from "fs";
import path from "path";

// ------------------------------------------------------------
// å‡ºåŠ›å…ˆ
// ------------------------------------------------------------
const OUTPUT_PATH = path.resolve("diff_plan.md");

// ------------------------------------------------------------
// diff_plan.md ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ¬æ–‡
// ------------------------------------------------------------
const TEMPLATE = `# ğŸ§© diff_plan.mdï¼ˆLeather / Jacket Archive å…±é€šä»•æ§˜ï¼‰

> âš ï¸ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ ChatGPT ãŒç”Ÿæˆã—ã€Cursor ãŒå‚ç…§ã—ã¦ **æœ€å°diffã‚’é©ç”¨ã™ã‚‹ãŸã‚ã®å”¯ä¸€ã®è¨­è¨ˆæ›¸** ã§ã™ã€‚  
> æ‰‹å‹•ç·¨é›†ç¦æ­¢ã€‚å…¨ã¦ã®æ›´æ–°ã¯ã“ã“ã«ä»•æ§˜ã‚’æ˜è¨˜ã—ã¦ã‹ã‚‰è¡Œã†ã“ã¨ã€‚

---

## ğŸ§  åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** | Leather Archive / Jacket Archive |
| **ç”Ÿæˆå…ƒ** | ChatGPT (GPT-5) |
| **å·®åˆ†é©ç”¨è€…** | Cursor (Claude 3.5 Sonnet) |
| **ç’°å¢ƒåŸºæº–** | PowerShell 7.5.3ï¼Node.js 22.19.0ï¼TailwindCSS 3.4.13 å›ºå®š |
| **ã‚³ãƒ¼ãƒ‰å½¢å¼** | UTF-8 LFï¼ˆ.bat ã®ã¿ BOMã‚ã‚Š CRLFï¼‰ |

---

## ğŸ§¾ 1. ç›®çš„
> ã“ã®æ›´æ–°ã®ç›®çš„ãƒ»èƒŒæ™¯ã‚’ç°¡æ½”ã«æ˜ç¤ºã™ã‚‹ã€‚

---

## ğŸ§± 2. å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | ç¨®åˆ¥ | æ›´æ–°å†…å®¹ |
|---------------|--------|-----------|
| (ä¾‹) src/pages/TopPage.jsx | JSX | æ¤œç´¢UIä¿®æ­£ |
| (ä¾‹) src/data/models.js | JS | ãƒ‡ãƒ¼ã‚¿æ§‹é€ æ›´æ–° |

---

## âš™ï¸ 3. å·®åˆ†å†…å®¹è¦ç´„ï¼ˆæ¦‚è¦ãƒ¬ãƒ™ãƒ«ï¼‰
> ã‚³ãƒ¼ãƒ‰ãã®ã‚‚ã®ã§ã¯ãªãã€ã€Œã©ã†å¤‰ãˆã‚‹ã‹ã€ã‚’è¨˜è¿°ã€‚

---

## ğŸ§© 4. ç›£æŸ»è¦ä»¶ï¼ˆaudit_core / audit_extendï¼‰
| ãƒã‚§ãƒƒã‚¯é …ç›® | åˆæ ¼æ¡ä»¶ |
|---------------|-----------|
| Routeræ§‹æˆ | main.jsxã®ã¿BrowserRouterã‚’ä¿æŒ |
| TailwindCSS | v3.4.13å›ºå®š |
| Dataæ§‹é€  | å¯å¤‰ãƒ‡ãƒ¼ã‚¿7ç¨®ã«çµ±ä¸€ |
| mockData | ç¦æ­¢ |
| presetsæ§‹æˆ | UIåˆ¶å¾¡å°‚ç”¨ |
| exportå½¢å¼ | çµ±ä¸€å¿…é ˆ |

---

## ğŸ’¾ 5. æ›´æ–°æ–¹å¼ï¼ˆCursorç”¨æŒ‡ç¤ºï¼‰
- diffå½¢å¼: git applyäº’æ›ï¼ˆBinaryç¦æ­¢ï¼‰
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: backups\\YYYYMMDD_HHMMSS_ãƒ•ã‚¡ã‚¤ãƒ«å
- ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰: UTF-8 LF

---

## ğŸ§© 6. æ›´æ–°å¾Œæ‰‹é †
\`\`\`bash
cmd /c update_code_only.bat
\`\`\`

---

## âœ… 7. æœ€çµ‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
| é …ç›® | çŠ¶æ…‹ |
|------|------|
| diff_plan.mdç”Ÿæˆ | â˜‘ |
| å·®åˆ†é©ç”¨ | â˜‘ |
| pre/postç›£æŸ» | â˜‘ |
| backupä¿å­˜ | â˜‘ |
| Git commit | â˜‘ |
`;

try {
  fs.writeFileSync(OUTPUT_PATH, TEMPLATE, { encoding: "utf8" });
  console.log("[diff_plan_generator] diff_plan.md ã‚’ç”Ÿæˆã—ã¾ã—ãŸã€‚");
  console.log(`å‡ºåŠ›å…ˆ: ${OUTPUT_PATH}`);
} catch (err) {
  console.error("[ERROR] diff_plan.md ã®ç”Ÿæˆã«å¤±æ•—:", err);
}
